- [English](README_EN.md)
- [Japanese](README-jp.md)

# Corne ZMK Firmware for Eyelash Peripherals
## ã‚­ãƒ¼ã®å…¥ã‚Œæ›¿ãˆ

- Q1. ãƒ“ãƒ«ãƒ‰ã™ã‚‹ãŸã‚ã«pacmanã§ä½•ã‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚“ã§ã™ã‹ï¼Ÿ
- A1. ã¯ã„ã€[ZMKã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://zmk.dev/docs/getting-started/installation#installing-on-macos)ã«å¾“ã£ã¦ãã ã•ã„ã€‚Homebrewã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯ã€`brew install cmake ninja west dfu-util`ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
ZMKï¼ˆeyelash_corneï¼‰ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã«ã¯ã€ã„ãã¤ã‹ã®é–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚’ pacmanï¼ˆManjaro / Arch Linuxï¼‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã«ã€Manjaro/Arch ç’°å¢ƒã§ã®å®Œå…¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ã‚’æ•´ç†ã—ã¾ã—ãŸã€‚
ä¸€åº¦å…¥ã‚Œã¦ã—ã¾ãˆã°ã€ä»Šå¾Œã©ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã‚‚ ZMK ãƒ•ã‚¡ãƒ¼ãƒ ã‚’ãƒ“ãƒ«ãƒ‰ã§ãã¾ã™ã€‚

### 1. å¿…é ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```
% sudo pacman -S --needed git cmake ninja python-pip west dtc wget unzip
```

#### èª¬æ˜
- git: ãƒªãƒã‚¸ãƒˆãƒªã®å–å¾—ï¼ˆZMK, Eyelash Corneãªã©ï¼‰
- cmake + ninja: Zephyr ã®ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ 
- python-pip: Pythonãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å°å…¥ã«å¿…è¦
- west: Zephyrå…¬å¼ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«
- dtc: ãƒ‡ãƒã‚¤ã‚¹ãƒ„ãƒªãƒ¼ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ï¼ˆ.dts/.dtsiãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£é‡ˆï¼‰
- wget, unzip: SDKãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ç”¨

### 2. Zephyr SDK ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ZMK ã¯ Zephyr RTOS ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ã„ã‚‹ãŸã‚ã€Zephyr SDK ã‚’å°å…¥ã—ã¾ã™ã€‚

#### ä½œæ¥­ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
```
% cd ~
```

#### æœ€æ–°ã®SDKã‚’å–å¾—ï¼ˆä¾‹: v0.16.5ï¼‰

```
wget https://github.com/zephyrproject-rtos/sdk-ng/releases/download/v0.16.5/zephyr-sdk-0.16.5_linux-x86_64.tar.xz
```

# å±•é–‹
```
tar xf zephyr-sdk-0.16.5_linux-x86_64.tar.xz
sudo mv zephyr-sdk-0.16.5 /opt/
```

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
```
cd /opt/zephyr-sdk-0.16.5
sudo ./setup.sh
```

    SDKã¯ /opt/zephyr-sdk-0.16.5 ã«é…ç½®ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚

âœ… 3. Zephyr ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š

~/.bashrc ã¾ãŸã¯ ~/.zshrc ã«æ¬¡ã‚’è¿½åŠ ï¼š

```
export ZEPHYR_TOOLCHAIN_VARIANT=zephyr
export ZEPHYR_SDK_INSTALL_DIR=/opt/zephyr-sdk-0.16.5
```

è¨­å®šã‚’åæ˜ ï¼š

```
source ~/.bashrc
# ã¾ãŸã¯
source ~/.zshrc
```

âœ… 4. ZMK ã® west ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

ã™ã§ã« zmk-new_corne ã‚’ clone æ¸ˆã¿ã ã¨æ€ã„ã¾ã™ãŒã€å¿µã®ãŸã‚ï¼š

```
git clone https://github.com/yamagen/zmk-new_corne.git
cd zmk-new_corne
west init -l config
west update
```

    ã“ã‚Œã§ zmk ã®ã‚½ãƒ¼ã‚¹ï¼ˆZephyr ã¨ãƒœãƒ¼ãƒ‰å®šç¾©ãªã©ï¼‰ãŒè‡ªå‹•çš„ã«å–å¾—ã•ã‚Œã¾ã™ã€‚

âœ… 5. ãƒ“ãƒ«ãƒ‰

å·¦å´ï¼ˆä¾‹ï¼‰ï¼š

```
west build -p -b eyelash_corne -d build/left -- -DSHIELD=corne_left
```

å³å´ï¼ˆä¾‹ï¼‰ï¼š

```
west build -p -b eyelash_corne -d build/right -- -DSHIELD=corne_right
```

æˆåŠŸã™ã‚Œã°ï¼š

```
-- west build: generating build system
-- west build: building application
[100%] Built target zephyr/zephyr.elf
```

ã¨ã„ã†è¡¨ç¤ºã«ãªã‚Šã€
build/left/zephyr/zmk.uf2 ãªã©ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

âœ… 6. æ›¸ãè¾¼ã¿

ç”Ÿæˆã•ã‚ŒãŸ .uf2 ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€Corne ã®å·¦å³ãã‚Œãã‚Œã®ãƒ‰ãƒ©ã‚¤ãƒ–ã«ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã€‚
ï¼ˆUSBæ¥ç¶šæ™‚ã« NICENANO ãªã©ã®ãƒ‰ãƒ©ã‚¤ãƒ–ãŒè¦‹ãˆã‚‹ã¯ãšã§ã™ï¼‰
ğŸ’¡ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆã‚ã‚‹ã¨ä¾¿åˆ©ï¼‰

```
sudo pacman -S dfu-util
```
- DFUæ›¸ãè¾¼ã¿ã‚„ nRF52840 ã®å ´åˆã«å¿…è¦ãªã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

## å‹•ä½œç¢ºèªå¾Œã®æµã‚Œ

> build ãƒ•ã‚©ãƒ«ãƒ€ã¯å†ãƒ“ãƒ«ãƒ‰ã§ä¸Šæ›¸ãå¯èƒ½
> west build -p ã§å‰å›ã®ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
> è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã ã‘å¤‰æ›´ã—ãŸå ´åˆã¯ -p ã‚’çœã„ã¦ã‚‚OK

ã‚‚ã—ã€é€”ä¸­ã§

```
    command not found: west
```
    ãªã©ãŒå‡ºãŸå ´åˆã¯ã€pipã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ï¼š

```
pip install --user west
```
ãªã‹ãªã‹æ…£ã‚Œãªã„ã®ã¯ã“ã®ã‚­ãƒ¼ã®ä¸¦ã³ã®ã›ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
---

[jp]# (Eyelash Peripherals) Corne ZMK ãƒªãƒã‚¸ãƒˆãƒª

[jp] **ã“ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã¯ [foostanã®Corne](https://github.com/foostan/crkbd) ã¨ã¯ç•°ãªã‚Šã¾ã™ã€‚æ¨™æº–ã® `corne` ãƒ•ã‚¡ãƒ¼ãƒ ã‚¦ã‚§ã‚¢ã§ã¯å‹•ä½œã—ã¾ã›ã‚“ã€‚**

[jp] ![Eyelash Peripherals Corneã®å†™çœŸ](https://ae01.alicdn.com/kf/Sa797fee25edd44248fbfdb0e13d44e00B.jpg)

[jp] ã“ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®3Dãƒ¢ãƒ‡ãƒ«ãŒå¿…è¦ãªå ´åˆã¯ã€`...`.

[jp] ## ä½¿ã„æ–¹

1. [ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã™ã‚‹](https://docs.github.com/ja/get-started/quickstart/fork-a-repo#forking-a-repository)ã€‚
2. [**Actions** ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™](https://docs.github.com/ja/actions/managing-workflow-runs-and-deployments/managing-workflow-runs/disabling-and-enabling-a-workflow#enabling-a-workflow)ã€‚
3. [`config/west.yml`](config/west.yml) ã® `eyelash_corne` ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã¾ã å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚`boards/arm/eyelash_corne` ãƒ•ã‚©ãƒ«ãƒ€ã¯ã“ã®URLã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚
4. ãƒ•ã‚©ãƒ¼ã‚¯ã«ã¾ã  `boards/arm/eyelash_corne` ãƒ•ã‚©ãƒ«ãƒ€ãŒã‚ã‚‹å ´åˆã¯ã€å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚
```
rm -rf boards/arm/eyelash_corne
```

**ã™ã§ã«ZMKã®è¨­å®šãƒªãƒã‚¸ãƒˆãƒªã‚’ãŠæŒã¡ã®å ´åˆã¯ã€[ãƒ•ã‚©ãƒ¼ã‚¯ã™ã‚‹ä»£ã‚ã‚Šã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦è¿½åŠ ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™](https://zmk.dev/docs/features/modules#building-with-modules)ã€‚**

## ã‚­ãƒ¼ãƒãƒƒãƒ—å›³

![config/eyelash_corne.keymapã®å›³](keymap-drawer/eyelash_corne.svg "generated by @caksoylar's Keymap Drawer")
